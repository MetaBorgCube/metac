module expr-postfix

language metac

start symbol Program

setup before [[
  void main() {
    return
]]



test array field [[ a[0] ]] run get-expr-from-program to
  ArrayField(Identifier("a"), Integer("0"))


test fn call [[
  fn()
]] run get-expr-from-program to
  Call(Identifier("fn"), [])

test fn call multi args[[
  fn(0, a)
]] run get-expr-from-program to
  Call(Identifier("fn"), [Integer("0"), Identifier("a")])


test field [[ a.b ]] run get-expr-from-program to
  Field(Identifier("a"), Identifier("b"))


test field pointer [[ a->b ]] run get-expr-from-program to
  FieldViaPointer(Identifier("a"), Identifier("b"))


test increment expr [[ a++ ]] run get-expr-from-program to
  Increment(Identifier("a"))


test decrement expr [[ a-- ]] run get-expr-from-program to
  Decrement(Identifier("a"))

setup after [[
    ;
  }
]]
